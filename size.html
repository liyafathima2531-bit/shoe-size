<!DOCTYPE html>
<html>
<head>
    <title>Check Shoe Size</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
    <h1 class="title" id="brandTitle"></h1>
    <p class="subtitle">Enter your shoe size to check availability</p>

    <input type="number" id="sizeInput" placeholder="e.g. 6, 7, 8">
    <button onclick="checkSize()" class="enter-btn">Check Availability</button>

    <div id="result" style="margin-top:20px; font-size:18px;"></div>
</div>

<script>
const shoes = [
    { brand: "NIKE", size: 6, stock: 5 },
    { brand: "NIKE", size: 7, stock: 0 },
    { brand: "ADIDAS", size: 6, stock: 3 },
    { brand: "PUMA", size: 8, stock: 2 },
    { brand: "NIKE", size: 8,stock:6},
    { brand: "ADIDAS", size: 7,stock:5},
    { brand: "PUMA", size: 6,stock:4},
];

const params = new URLSearchParams(window.location.search);
const brand = params.get("brand");

document.getElementById("brandTitle").innerText = "Brand: " + brand;

function checkSize() {
    const size = parseInt(document.getElementById("sizeInput").value);
    const resultDiv = document.getElementById("result");

    if (!size) {
        resultDiv.innerHTML = "<span style='color:red;'>Please enter a shoe size.</span>";
        return;
    }

    const shoe = shoes.find(s => s.brand === brand && s.size === size);

    if (shoe) {
        if (shoe.stock > 0) {
            resultDiv.innerHTML = `
                <span style='color:green;'>Size ${size} is AVAILABLE for ${brand}.</span><br><br>
                <button id="showBtn" class="enter-btn">finish</button>
            `;
            document.getElementById("showBtn").addEventListener("click", function() {
                window.location.href = `greeting.html`;
            });
        } else {
            resultDiv.innerHTML = `
                <span style='color:red;'>Size ${size} is SOLD OUT for ${brand}.</span><br><br>
                <button onclick="goBack()" class="enter-btn">Choose another brand</button>
            `;
        }
    } else {
        resultDiv.innerHTML = `
            <span style='color:red;'>Size ${size} is NOT available for ${brand}.</span><br><br>
            <button onclick="goBack()" class="enter-btn">Choose another brand</button>
        `;
    }
}

function goBack() {
    window.location.href = "brand.html";
}
</script>

</body>
</html>
